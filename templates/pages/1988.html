{% extends "base.html" %}
{% load static %}

{% block title %}1988 | Build Club{% endblock %}

{% block content %}
  <style>
    @import url("https://fonts.googleapis.com/css2?family=Press+Start+2P&family=Space+Grotesk:wght@400;500;600;700&display=swap");

    .nostalgia-1988 {
      --ink: #10162f;
      --paper: #fff5e1;
      --sunset: #ff9a8b;
      --neon-pink: #ff4fd8;
      --neon-teal: #2de2e6;
      --neon-yellow: #ffe347;
      --deep-space: #221a38;
      font-family: "Space Grotesk", "Manrope", sans-serif;
      color: var(--ink);
      background: radial-gradient(circle at top, #fff7ec 0%, #f8e6c7 35%, #f2d0d6 65%, #e5c3f1 100%);
    }

    .nostalgia-1988 .headline {
      font-family: "Press Start 2P", "Space Grotesk", sans-serif;
      letter-spacing: 0.08em;
      text-transform: uppercase;
    }

    .scanlines::before {
      content: "";
      position: absolute;
      inset: 0;
      background: repeating-linear-gradient(
        to bottom,
        rgba(17, 24, 39, 0.08) 0,
        rgba(17, 24, 39, 0.08) 1px,
        transparent 2px,
        transparent 4px
      );
      opacity: 0.35;
      pointer-events: none;
      mix-blend-mode: multiply;
    }

    .grain::after {
      content: "";
      position: absolute;
      inset: 0;
      background-image: radial-gradient(rgba(255, 255, 255, 0.22) 1px, transparent 1px);
      background-size: 3px 3px;
      opacity: 0.3;
      pointer-events: none;
    }

    .neon-grid {
      background-image: linear-gradient(rgba(45, 226, 230, 0.2) 1px, transparent 1px),
        linear-gradient(90deg, rgba(45, 226, 230, 0.2) 1px, transparent 1px);
      background-size: 48px 48px;
      transform: skewY(-6deg);
      opacity: 0.3;
    }

    .floating-shape {
      animation: float 8s ease-in-out infinite;
    }

    .floating-shape.delay {
      animation-delay: 1.8s;
    }

    .fade-up {
      animation: fadeUp 0.9s ease-out both;
    }

    .fade-up.delay-1 {
      animation-delay: 0.2s;
    }

    .fade-up.delay-2 {
      animation-delay: 0.4s;
    }

    .fade-up.delay-3 {
      animation-delay: 0.6s;
    }

    .polaroid {
      background: #fffdf6;
      box-shadow: 0 24px 60px rgba(15, 23, 42, 0.18);
      transform: rotate(-1.5deg);
    }

    .polaroid:nth-child(even) {
      transform: rotate(1.5deg);
    }

    .cassette-deck {
      background: linear-gradient(145deg, #fff2d9 0%, #f5dcc0 100%);
      border: 2px solid #221a38;
      border-radius: 24px;
      padding: 18px;
      box-shadow: 0 18px 60px rgba(34, 26, 56, 0.25);
      position: relative;
    }

    .cassette-label {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      font-size: 0.7rem;
      font-weight: 700;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: #221a38;
    }

    .cassette-window {
      position: relative;
      margin-top: 16px;
      overflow: hidden;
      border-radius: 18px;
      border: 2px solid #221a38;
      background: #1f1b2e;
    }

    .cassette-video {
      width: 100%;
      aspect-ratio: 16 / 9;
      display: block;
    }

    .cassette-overlay {
      position: absolute;
      inset: 0;
      display: grid;
      place-items: center;
      background: radial-gradient(circle at center, rgba(255, 255, 255, 0.06) 0%, rgba(0, 0, 0, 0.35) 65%);
      transition: opacity 0.3s ease;
    }

    .cassette-reels {
      position: absolute;
      inset: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 120px;
      opacity: 0.35;
    }

    .cassette-reels span {
      width: 88px;
      height: 88px;
      border-radius: 50%;
      border: 2px dashed #f8e6c7;
      box-shadow: inset 0 0 0 10px rgba(248, 230, 199, 0.12);
    }

    .cassette-play {
      position: relative;
      z-index: 1;
      display: inline-flex;
      align-items: center;
      gap: 10px;
      border-radius: 999px;
      border: 2px solid #221a38;
      background: #fff7ec;
      padding: 10px 18px;
      font-size: 0.75rem;
      font-weight: 700;
      letter-spacing: 0.2em;
      text-transform: uppercase;
      color: #221a38;
      cursor: pointer;
      transition: transform 0.2s ease, background 0.2s ease;
    }

    .cassette-play:hover {
      transform: translateY(-1px);
      background: #ffe347;
    }

    .cassette-play span {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 32px;
      height: 32px;
      border-radius: 50%;
      border: 2px solid #221a38;
      font-size: 0.9rem;
    }

    .cassette-player.is-playing .cassette-overlay {
      opacity: 0;
      pointer-events: none;
    }

    .cassette-controls {
      margin-top: 12px;
      display: flex;
      justify-content: space-between;
      font-size: 0.65rem;
      font-weight: 700;
      letter-spacing: 0.3em;
      text-transform: uppercase;
      color: #221a38;
    }

    @keyframes float {
      0%,
      100% {
        transform: translateY(0);
      }
      50% {
        transform: translateY(-14px);
      }
    }

    @keyframes fadeUp {
      0% {
        opacity: 0;
        transform: translateY(18px);
      }
      100% {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>

  <section class="nostalgia-1988 relative overflow-hidden py-16 md:py-24">
    <div class="pointer-events-none absolute -top-20 left-10 h-40 w-40 rounded-full bg-[#ffe347] opacity-60 blur-3xl"></div>
    <div class="pointer-events-none absolute top-32 right-12 h-32 w-32 rounded-full bg-[#ff4fd8] opacity-40 blur-2xl"></div>
    <div class="pointer-events-none absolute bottom-10 right-1/2 h-48 w-48 rounded-full bg-[#2de2e6] opacity-40 blur-3xl"></div>

    <div class="neon-grid pointer-events-none absolute -bottom-24 left-0 right-0 h-72"></div>

    <div class="scanlines grain absolute inset-0"></div>

    <div class="relative mx-auto w-full max-w-6xl px-6">
      <div class="grid items-center gap-12 lg:grid-cols-[1.1fr_0.9fr]">
        <div class="space-y-6">
          <p class="fade-up inline-flex items-center gap-2 rounded-full border border-[#221a38] px-4 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-[#221a38]">
            Mixtape Era
            <span class="h-2 w-2 rounded-full bg-[#ff4fd8]"></span>
          </p>
          <h1 class="headline fade-up delay-1 text-3xl leading-tight text-[#221a38] sm:text-4xl md:text-5xl">
            1988
          </h1>
          <p class="fade-up delay-2 text-xs font-semibold uppercase tracking-[0.4em] text-[#221a38]">
            Gen-X
          </p>
        </div>
        <div class="relative">
          <div class="floating-shape absolute -top-6 right-8 h-20 w-20 rounded-3xl border-2 border-dashed border-[#ff4fd8]"></div>
          <div class="floating-shape delay absolute bottom-6 left-6 h-16 w-16 rounded-full border-2 border-dashed border-[#2de2e6]"></div>
          <div class="cassette-deck cassette-player">
            <div class="cassette-label">
              <span>Side A</span>
              <span>Play</span>
            </div>
            <div class="cassette-window">
              <video
                class="cassette-video"
                controls
                preload="metadata"
              >
                <source src="{% static 'videos/1988/music.mp4' %}" type="video/mp4" />
                Your browser does not support the video tag.
              </video>
              <div class="cassette-overlay">
                <div class="cassette-reels" aria-hidden="true">
                  <span></span>
                  <span></span>
                </div>
                <button class="cassette-play" type="button">
                  <span>â–¶</span>
                  Play Tape
                </button>
              </div>
            </div>
            <div class="cassette-controls">
              <span>Rewind</span>
              <span>Forward</span>
            </div>
          </div>
        </div>
      </div>

      <div class="mt-16 md:mt-20">
        <div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
          <h2 class="headline text-xl text-[#221a38] sm:text-2xl">Photo Booth</h2>
        </div>
        <div class="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
          <div class="polaroid rounded-2xl p-4">
            <img src="{% static 'images/1988/IMG_4716.jpg' %}" alt="1988 memory 1" class="h-56 w-full rounded-xl object-cover" />
          </div>
          <div class="polaroid rounded-2xl p-4">
            <img src="{% static 'images/1988/IMG_4718.jpg' %}" alt="1988 memory 2" class="h-56 w-full rounded-xl object-cover" />
          </div>
          <div class="polaroid rounded-2xl p-4">
            <img src="{% static 'images/1988/IMG_4719.jpg' %}" alt="1988 memory 3" class="h-56 w-full rounded-xl object-cover" />
          </div>
          <div class="polaroid rounded-2xl p-4">
            <img src="{% static 'images/1988/IMG_4720.jpg' %}" alt="1988 memory 4" class="h-56 w-full rounded-xl object-cover" />
          </div>
          <div class="polaroid rounded-2xl p-4">
            <img src="{% static 'images/1988/IMG_4721.jpeg' %}" alt="1988 memory 5" class="h-56 w-full rounded-xl object-cover" />
          </div>
        </div>
      </div>
    </div>
  </section>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const player = document.querySelector(".cassette-player");
      if (!player) {
        return;
      }
      const video = player.querySelector("video");
      const playButton = player.querySelector(".cassette-play");
      if (!video || !playButton) {
        return;
      }

      const setPlaying = (isPlaying) => {
        player.classList.toggle("is-playing", isPlaying);
      };

      playButton.addEventListener("click", () => {
        video.play();
      });

      video.addEventListener("play", () => setPlaying(true));
      video.addEventListener("pause", () => setPlaying(false));
      video.addEventListener("ended", () => setPlaying(false));
    });
  </script>
{% endblock %}
